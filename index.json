[{"content":"MacOS在企业端使用docker desktop受限，docker服务端无法启动导致docker服务端的一般能力无法使用。虽然大多数时候docker编译构建已经被流水线或自动化脚本等托管，但是在学习初期或调试阶段仍然需要在本地制作镜像或运行容器。 因此，本教程选择使用colima代替docker desktop。\ncolima会利用lima(linux on Mac)虚拟机，在lima中启动docker服务，让本地的docker-cli直接访问lima虚拟机中的docker服务，从而绕开docker服务在MacOS本地无法启动的问题。\nPrepare 安装需要的组件：\n# docker \u0026amp; colima on mac brew install --cask docker brew install colima brew install docker-compose brew install colima的时候会自动安装lima，如果lima已经被安装则会跳过该部分的安装。\nlima \u0026amp; colima colima依赖于lima(Linux on mac)，通过lima启动Linux虚拟机让docker客户端访问虚拟机中的docker服务，从而使得docker对用户提供的一般能力可以正常使用。\nLima的相关使用 # 启动一个default linux虚拟机 limactl start default # 查看当前linux虚拟机 limactl list # 进入虚拟机的shell换将 limactl shell default lima会默认挂载在mac的根目录下，即全部目录，进入linux shell后可以访问mac的全部目录。 通过修改配置文件的方式修改挂载目录\n# 进入默认linux虚拟机的dir cd ~/.lima/default # 修改lima.yaml文件的挂载目录 vim lima.yaml Run！ 首先启动colima保证docker服务启动\ncolima start --cpu 4 --memory 6 --disk 60 使用docker\ndocker \u0026lt;command\u0026gt; ","permalink":"https://kosnamm.github.io/posts/docker-setup-on-macos/","summary":"\u003cp\u003eMacOS在企业端使用docker desktop受限，docker服务端无法启动导致docker服务端的一般能力无法使用。虽然大多数时候docker编译构建已经被流水线或自动化脚本等托管，但是在学习初期或调试阶段仍然需要在本地制作镜像或运行容器。\n因此，本教程选择使用colima代替docker desktop。\u003c/p\u003e\n\u003cp\u003e\u003cem\u003ecolima会利用lima(linux on Mac)虚拟机，在lima中启动docker服务，让本地的docker-cli直接访问lima虚拟机中的docker服务，从而绕开docker服务在MacOS本地无法启动的问题。\u003c/em\u003e\u003c/p\u003e\n\u003ch1 id=\"prepare\"\u003ePrepare\u003c/h1\u003e\n\u003cp\u003e安装需要的组件：\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# docker \u0026amp; colima on mac\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ebrew install --cask docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ebrew install colima\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ebrew install docker-compose\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ccode\u003ebrew install colima\u003c/code\u003e的时候会自动安装\u003ccode\u003elima\u003c/code\u003e，如果\u003ccode\u003elima\u003c/code\u003e已经被安装则会跳过该部分的安装。\u003c/p\u003e\n\u003ch1 id=\"lima--colima\"\u003elima \u0026amp; colima\u003c/h1\u003e\n\u003cp\u003ecolima依赖于\u003ca href=\"https://github.com/lima-vm/lima\"\u003elima\u003c/a\u003e(Linux on mac)，通过lima启动Linux虚拟机让docker客户端访问虚拟机中的docker服务，从而使得docker对用户提供的一般能力可以正常使用。\u003c/p\u003e\n\u003ch2 id=\"lima的相关使用\"\u003eLima的相关使用\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 启动一个default linux虚拟机\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003elimactl start default\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 查看当前linux虚拟机\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003elimactl list\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 进入虚拟机的shell换将\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003elimactl shell default\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003elima会默认挂载在mac的根目录下，即全部目录，进入linux shell后可以访问mac的全部目录。\n\u003cem\u003e通过修改配置文件的方式修改挂载目录\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 进入默认linux虚拟机的dir\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003ecd\u003c/span\u003e ~/.lima/default\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 修改lima.yaml文件的挂载目录\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003evim lima.yaml\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cimg alt=\"picture\" loading=\"lazy\" src=\"/dockersetup/lima_config.png\"\u003e\u003c/p\u003e\n\u003ch1 id=\"run\"\u003eRun！\u003c/h1\u003e\n\u003cp\u003e首先启动colima保证docker服务启动\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecolima start --cpu \u003cspan class=\"m\"\u003e4\u003c/span\u003e --memory \u003cspan class=\"m\"\u003e6\u003c/span\u003e --disk \u003cspan class=\"m\"\u003e60\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e使用docker\u003c/p\u003e","title":"Setup Docker on MacOS"},{"content":"","permalink":"https://kosnamm.github.io/multi-agent_based_text2sql_middleware/","summary":"","title":"Multi Agent Based Text2sql Middleware"}]